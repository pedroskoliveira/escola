<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Escola Infantil Futuro - Onde o aprendizado floresce</title>
    
    <!-- Link para o arquivo CSS externo -->
    <link rel="stylesheet" href="estilo.css">

    <!-- Google Fonts: Poppins -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
    
    <!-- √çcones (Ionicons) -->
    <script type="module" src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.esm.js"></script>
    <script nomodule src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.js"></script>
</head>
<body>

    <!-- Header -->
    <header class="header">
        <nav class="navbar">
            <a href="#" class="logo">Escola Futuro</a>
            <div class="menu-desktop">
                <a href="#sobre">Sobre N√≥s</a>
                <a href="#proposta">Proposta</a>
                <a href="cadastro.html">Matr√≠culas</a>
                <a href="login_facial.html" class="btn-amarelo">√Årea do Aluno</a>
            </div>
            <button id="btn-mobile" class="menu-mobile-btn">
                <ion-icon name="menu-outline"></ion-icon>
            </button>
        </nav>
        <div id="menu-mobile-itens" class="menu-mobile-itens hidden">
            <a href="#sobre">Sobre N√≥s</a>
            <a href="#proposta">Proposta</a>
            <a href="cadastro.html">Matr√≠culas</a>
            <a href="login_facial.html">√Årea do Aluno</a>
        </div>
    </header>

    <!-- Se√ß√£o Hero -->
    <section class="hero">
        <div class="hero-conteudo">
            <h1>Bem-vindos √† Escola Infantil Futuro!</h1>
            <p>Um lugar m√°gico onde cada crian√ßa descobre o prazer de aprender e crescer.</p>
            <a href="/cadastro.html" class="btn-branco">Agende uma Visita</a>
        </div>
    </section>

    <!-- Se√ß√£o Sobre -->
    <section id="sobre" class="secao">
        <h2 class="titulo-secao">Sobre Nossa Escola</h2>
        <div class="container-sobre">
            <div class="sobre-imagem">
                <img src="https://placehold.co/600x400/d1fae5/10b981?text=Sala+de+Aula" alt="Sala de aula colorida">
            </div>
            <div class="sobre-texto">
                <h3>Nossa Miss√£o</h3>
                <p>Oferecer um ambiente seguro, estimulante e acolhedor, onde as crian√ßas possam desenvolver suas habilidades sociais, emocionais e cognitivas atrav√©s de atividades l√∫dicas e do contato com a natureza.</p>
                <h3>Nossa Vis√£o</h3>
                <p>Ser uma refer√™ncia em educa√ß√£o infantil, formando cidad√£os criativos, cr√≠ticos e felizes, preparados para os desafios do futuro.</p>
            </div>
        </div>
    </section>

    <!-- Rodap√© -->
    <footer class="rodape">
        <p>&copy; 2025 Escola Infantil Futuro. Todos os direitos reservados.</p>
        <p>Rua da Imagina√ß√£o, 123 - Bairro Feliz, Cidade do Saber</p>
        
        <!-- Links de Desenvolvimento -->
        <div class="links-desenvolvimento">
            <h4>Acesso R√°pido (Desenvolvimento)</h4>
            <a href="cadastro.html">P√°gina de Cadastro</a>
            <a href="login_facial.html">P√°gina de Login</a>
            <a href="dashboard.html">Dashboard do Admin</a>
            <a href="portal.html">Portal do Aluno</a>
        </div>
    </footer>

    <!-- Chatbot -->
    <div class="container-chatbot">
        <div id="janela-chat" class="janela-chat hidden">
            <div class="header-chat">
                <div class="header-chat-titulo">
                    <h3>Fale com a nossa IA</h3>
                    <select id="seletor-ia" class="seletor-ia">
                        <option value="gemini">Gemini (Padr√£o)</option>
                        <option value="claude" disabled>Claude (Em breve)</option>
                    </select>
                </div>
                <button id="btn-fechar-chat">&times;</button>
            </div>
            <div id="corpo-chat" class="corpo-chat">
                <div class="mensagem-bot">
                    <span>Ol√°! üëã Sou a assistente virtual da Escola Futuro. Como posso ajudar?</span>
                </div>
            </div>
            <div class="rodape-chat">
                <input type="text" id="input-chat" placeholder="Digite sua pergunta...">
                <button id="btn-enviar-chat">
                    <ion-icon name="send-outline"></ion-icon>
                </button>
            </div>
        </div>
        <button id="btn-abrir-chat" class="btn-abrir-chat">
            <ion-icon name="chatbubbles-outline"></ion-icon>
        </button>
    </div>

    <script>
        // --- L√≥gica do Menu Mobile ---
        const btnMobile = document.getElementById('btn-mobile');
        const menuItens = document.getElementById('menu-mobile-itens');
        btnMobile.addEventListener('click', () => {
            menuItens.classList.toggle('hidden');
        });

        // --- L√≥gica do Chatbot ---
        const btnAbrirChat = document.getElementById('btn-abrir-chat');
        const btnFecharChat = document.getElementById('btn-fechar-chat');
        const janelaChat = document.getElementById('janela-chat');
        const corpoChat = document.getElementById('corpo-chat');
        const inputChat = document.getElementById('input-chat');
        const btnEnviarChat = document.getElementById('btn-enviar-chat');
        const seletorIA = document.getElementById('seletor-ia');

        // IMPORTANTE: Substitua pelas suas chaves de API
        const CHAVES_API = {
            gemini: "AIzaSyADh6zFbGkMEDZ-A_bOsJ7JCcOXTCSYzjI", // Sua chave de API do Google AI Studio
            claude: ""  // Sua chave de API da Anthropic (para o futuro)
        };

        btnAbrirChat.addEventListener('click', () => {
            janelaChat.classList.remove('hidden');
            btnAbrirChat.classList.add('hidden');
        });

        btnFecharChat.addEventListener('click', () => {
            janelaChat.classList.add('hidden');
            btnAbrirChat.classList.remove('hidden');
        });

        const enviarMensagem = async () => {
            const mensagemUsuario = inputChat.value.trim();
            if (mensagemUsuario === '') return;

            adicionarMensagemNaTela(mensagemUsuario, 'mensagem-usuario');
            inputChat.value = '';

            const divDigitando = adicionarMensagemNaTela('Digitando...', 'mensagem-bot digitando');
            const iaSelecionada = seletorIA.value;

            try {
                const respostaIA = await obterRespostaDaIA(mensagemUsuario, iaSelecionada);
                divDigitando.remove();
                adicionarMensagemNaTela(respostaIA, 'mensagem-bot');
            } catch (error) {
                console.error("Erro ao obter resposta da IA:", error);
                divDigitando.remove();
                adicionarMensagemNaTela('Desculpe, n√£o consegui me conectar. Tente novamente mais tarde.', 'mensagem-bot');
            }
        };
        
        function adicionarMensagemNaTela(texto, classe) {
            const divMensagem = document.createElement('div');
            divMensagem.className = classe;
            divMensagem.innerHTML = `<span>${texto}</span>`;
            corpoChat.appendChild(divMensagem);
            corpoChat.scrollTop = corpoChat.scrollHeight;
            return divMensagem;
        }

        async function obterRespostaDaIA(prompt, provedor) {
            switch (provedor) {
                case 'gemini':
                    return await obterRespostaDoGemini(prompt);
                case 'claude':
                    // A l√≥gica para chamar a API do Claude entraria aqui
                    return "Resposta simulada do Claude: Ol√°! Como posso te ajudar hoje?";
                default:
                    return "Provedor de IA n√£o reconhecido.";
            }
        }

        async function obterRespostaDoGemini(prompt) {
            const apiKey = CHAVES_API.gemini;
            if (!apiKey) {
                return "A chave da API do Gemini n√£o foi configurada.";
            }

            const promptCompleto = `Voc√™ √© um assistente virtual amig√°vel e engra√ßado da 'Escola Infantil Futuro'. Responda √† seguinte pergunta de forma concisa e √∫til, os valores s√£o a partir de R$500,00 mensal, as aulas s√£o de segunda √† sexta, temos tempo integral, de respostas curtas e diretas, de forma engra√ßada: "${prompt}"`;
            const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${apiKey}`;
            
            const payload = {
                contents: [{ parts: [{ text: promptCompleto }] }]
            };

            const response = await fetch(apiUrl, {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify(payload)
            });

            if (!response.ok) {
                throw new Error(`Erro na API do Gemini: ${response.statusText}`);
            }

            const result = await response.json();
            
            if (result.candidates && result.candidates.length > 0) {
                return result.candidates[0].content.parts[0].text;
            } else {
                return "N√£o consegui gerar uma resposta no momento.";
            }
        }

        btnEnviarChat.addEventListener('click', enviarMensagem);
        inputChat.addEventListener('keypress', (e) => {
            if (e.key === 'Enter') enviarMensagem();
        });
    </script>
</body>
</html>
